{% extends 'extras/base.html' %}
{% load static %}
{% block title %} {{patient}} - [{{patient.PatientID}}]{% endblock title %}

{% block content %}
<div id="patient-info-title">
    <h5 class="d-inline">Patient Information&nbsp;&nbsp;&nbsp;</h5> <h5 class="d-inline">| <a id="edit-patient" href="{% url 'patient_edit' patient.PatientID %}">Edit Patient Record</a></h5>
</div>
<div id="patient-info" class="mb-2">
<table class="table table-borderless">
    <tbody>
        <tr>
            <td style="text-align: right;">First Name:</td>
            <td style="text-align: left;"><strong>{{patient.FirstName}}</strong></td>
            
            {% if patient.OtherName %}
                <td style="text-align: right;">Other Name:</td>
                <td style="text-align: left;"><strong>{{patient.OtherName}}</strong></td>
            {% endif %}
            <td style="text-align: right;">SurName:</td>
            <td style="text-align: left;"><strong>{{patient.SurName}}</strong></td>
            {% if not patient.OtherName %}
                <td style="text-align: right;">Patient ID:</td>
                <td style="text-align: left;"><strong>{{patient.PatientID}}</strong></td>
            {% endif %}
        </tr>
        <tr>
            {% if patient.OtherName %}
                <td style="text-align: right;">Patient ID:</td>
                <td style="text-align: left;"><strong>{{patient.PatientID}}</strong></td>
            {% endif %}
        </tr>
        <tr>
            <td style="text-align: right;">Gender:</td>
            <td style="text-align: left;"><strong>{{patient.GenderID}}</strong></td>
            <td style="text-align: right;">Age:</td>
            <td style="text-align: left;"><strong>{{patient.getAge}}</strong></td>
            <td style="text-align: right;">Religion:</td>
            <td style="text-align: left;"><strong>{{patient.ReligionID}}</strong></td>
        </tr>
        <tr>
            <td style="text-align: right;">Mobile:</td>
            <td style="text-align: left;"><strong>{{patient.ResidencePhone}}</strong></td>
            <td style="text-align: right;">Address:</td>
            <td style="text-align: left;"><strong>{{patient.ResidenceAddress}}</strong></td>
            <td style="text-align: right;">Occupation:</td>
            <td style="text-align: left;"><strong>{{patient.Occupation}}</strong></td>
        </tr>
    </tbody>
</table>
</div>
<div id="nextofkin-info-title" class="mt-2">
    <h5 class="d-inline">Next of Kin Information&nbsp;&nbsp;&nbsp;</h5> <h5 class="d-inline">| Add Next Of Kin</h5>
</div>

{% if patient.nextofkin_set.all %}
    <div id="nextofkin-info">
        <table class="table table-borderless">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Name of Next of Kin</th>
                    <th>Relation to Patient</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody>
                {% for nextofkin in patient.nextofkin_set.all %}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td>{{nextofkin.NextOfKinName}}</td>
                        <td>{{nextofkin.RelationTypeID}}</td>
                        <td>{{nextofkin.ContactAddress}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}
    

<div id="insurance-info-title" class="my-2">
    <h5 class="d-inline">Sponsor Information&nbsp;&nbsp;&nbsp;</h5> <h5 class="d-inline">| Add Sponsor</h5>
</div>

{% if patient.sponsor_set.all %}
    <div id="sponsor-info">
        <table class="table table-borderless">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Name of Next of Kin</th>
                    <th>Relation to Patient</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody>
                {% for nextofkin in patient.nextofkin_set.all %}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td>{{nextofkin.NextOfKinName}}</td>
                        <td>{{nextofkin.RelationTypeID}}</td>
                        <td>{{nextofkin.ContactAddress}}</td>
                    </tr>
                    <hr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endif %}
    
{% endblock content %}